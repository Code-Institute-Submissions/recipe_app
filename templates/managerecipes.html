<!DOCTYPE html>
{% extends 'base.html' %}
{% block content %}
<div class="row">
    <h4>Manage Recipes</h4>
    <ul class="collapsible">
        {% for recipe in recipes %}
        <li>
            <div class="collapsible-header">
                <a href="{{url_for('delete_recipe', recipe_id=recipe._id)}}" class="waves-effect waves-light btn_small btn">Delete</a>
                <a href="{{url_for('edit_recipe', recipe_id=recipe._id)}}"
                    class="waves-effect waves-light btn_small btn blue">Edit</a>
                <div class="col s9 task_header">
                    <strong>{{recipe.recipe_name}} </strong>
                </div>
            </div>
        </li>
        {% endfor %}
    </ul>
</div>

<h5>Add A New Recipe</h5>
<div class="row">
    <div class="row">
        <form action="{{url_for('insert_recipe')}}" method="POST" class="col s12">
            <div class="input-field col s12">
                <i class="material-icons prefix">local_dining</i>
                <input id="recipe_name" name="recipe_name" type="text" required>
                <label for="recipe_name">Recipe name</label>
            </div>
        
            <div class="input-field col s12">
                <i class="material-icons prefix">local_library</i>
                <textarea id="recipe_intro" name="recipe_intro" class="materialize-textarea" required></textarea>
                <label for="recipe_intro">Introduction</label>
            </div>
        
            <div class="input-field col s12">
                <i class="material-icons prefix">local_grocery_store</i>
                <textarea id="ingredients" name="ingredients" class="materialize-textarea" required></textarea>
                <label for="ingredients">Ingredients*</label>
            </div>
        
            <div class="input-field col s12">
                <i class="material-icons prefix">build</i>
                <textarea id="instructions" name="instructions" class="materialize-textarea" required></textarea>
                <label for="instructions">Instructions*</label>
            </div>
        
            <div class="input-field col s12">
                <i class="material-icons prefix">add_a_photo</i>
                <input id="recipe_image" name="recipe_image" type="url">
                <label for="recipe_image">Image URL</label>
            </div>
        
            <div class="input-field col s12">
                <i class="material-icons prefix">poll</i>
                <select id="category" name="category_name" required>
                    <option value="" disabled selected>Choose the category</option>
                    {% for category in categories %}
                    <option name="category_name" value="{{category.category_name}}">{{category.category_name.capitalize()}}
                    </option>
                    {% endfor %}
                </select>
                <label>Meal Category</label>
            </div>
        
            <p class='col s12'><strong>*</strong> To break these into lists for viewing, add a full-stop where you wish for the
                introduction of a new list item.
            </p>
        
            <div class='row'>
                <button class="btn waves-effect waves-light" type="submit">Add Recipe
                    <i class="material-icons right">send</i>
                </button>
            </div>
        
        </form>
    </div>
</div>
{% endblock %}